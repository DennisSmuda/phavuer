{"version":3,"file":"phavuer.umd.js","sources":["../src/setters.js","../src/components/Game.vue","../src/components/Scene.vue","../src/props.js","../src/emits.js","../src/components/Container.vue","../src/components/Rectangle.vue","../src/components/RoundRectangle.vue","../src/components/Triangle.vue","../src/components/Circle.vue","../src/components/Polygon.vue","../src/components/Line.vue","../src/components/Image.vue","../src/components/NineSlice.vue","../src/components/Sprite.vue","../src/components/Text.vue","../src/components/TilemapLayer.vue","../src/components/Zone.vue","../src/components/Light.vue","../src/components/StaticBody.vue","../src/components/Body.vue","../src/components/RenderTexture.vue","../src/index.js"],"sourcesContent":["export const GAME_OBJECT_EVENTS = [\n  { attr: 'onPointerdown', emit: 'pointerdown', eventIndex: 3 },\n  { attr: 'onPointermove', emit: 'pointermove', eventIndex: 3 },\n  { attr: 'onPointerup', emit: 'pointerup', eventIndex: 3 },\n  { attr: 'onPointerout', emit: 'pointerout', eventIndex: 1 },\n  { attr: 'onPointerover', emit: 'pointerover', eventIndex: 3 },\n  { attr: 'onWheel', emit: 'wheel', eventIndex: 4 },\n  { attr: 'onDragstart', emit: 'dragstart', drag: true },\n  { attr: 'onDrag', emit: 'drag', drag: true },\n  { attr: 'onDragend', emit: 'dragend', drag: true },\n  { attr: 'onDragenter', emit: 'dragenter', drag: true },\n  { attr: 'onDragover', emit: 'dragover', drag: true },\n  { attr: 'onDragleave', emit: 'dragleave', drag: true },\n  { attr: 'onDrop', emit: 'drop', drag: true }\n]\nconst fixSize = object => {\n  if (object.updateDisplayOrigin) {\n    object.updateDisplayOrigin()\n  }\n  if (object.input) {\n    object.input.hitArea.setSize(object.width, object.height)\n  } else if (object._events && GAME_OBJECT_EVENTS.some(v => v.emit in object._events)) {\n    object.setInteractive()\n  }\n}\n\nconst defineVModelProperty = (gameObject, key, emit) => {\n  let rawValue = gameObject[key]\n  Object.defineProperty(gameObject, key, {\n    get () {\n      return rawValue\n    },\n    set (v) {\n      if (rawValue !== v) emit(`update:${key}`, v)\n    }\n  })\n  return v => rawValue = v\n}\n\nexport const deepProps = ['tween', 'tweens', 'timeline', 'style']\nexport const vModelProps = ['x', 'y', 'tweens', 'tween', 'timeline']\nexport default {\n  active: object => v => object.setActive(v),\n  visible: object => v => object.setVisible(v),\n  x: (object, emit) => {\n    if (emit) {\n      return defineVModelProperty(object, 'x', emit)\n    } else {\n      return v => object.x = v\n    }\n  },\n  y: (object, emit) => {\n    if (emit) {\n      return defineVModelProperty(object, 'y', emit)\n    } else {\n      return v => object.y = v\n    }\n  },\n  x1: object => v => object.geom.x1 = v,\n  y1: object => v => object.geom.y1 = v,\n  x2: object => v => object.geom.x2 = v,\n  y2: object => v => object.geom.y2 = v,\n  x3: object => v => object.geom.x3 = v,\n  y3: object => v => object.geom.y3 = v,\n  points: object => v => object.setTo(v),\n  rotation: object => v => object.setRotation(v),\n  origin: object => v => object.setOrigin(v, v),\n  originX: object => v => object.setOrigin(v, object.originY),\n  originY: object => v => object.setOrigin(object.originX, v),\n  scale: object => v => object.setScale(v, v),\n  scaleX: object => v => object.setScale(v, object.scaleY),\n  scaleY: object => v => object.setScale(object.scaleX, v),\n  width: object => v => {\n    object.setSize(v, object.height)\n    fixSize(object)\n  },\n  height: object => v => {\n    object.setSize(object.width, v)\n    fixSize(object)\n  },\n  leftWidth: object => v => object.setSlices(object.width, object.height, v, object.rightWidth, object.topHeight, object.bottomHeight),\n  rightWidth: object => v => object.setSlices(object.width, object.height, object.leftWidth, v, object.topHeight, object.bottomHeight),\n  topHeight: object => v => object.setSlices(object.width, object.height, object.leftWidth, object.rightWidth, v, object.bottomHeight),\n  bottomHeight: object => v => object.setSlices(object.width, object.height, object.leftWidth, object.rightWidth, object.topHeight, v),\n  radius: object => v => object.setRadius(v),\n  displayWidth: object => v => object.setDisplaySize(v, object.displayHeight),\n  displayHeight: object => v => object.setDisplaySize(object.displayWidth, v),\n  displayOriginX: object => v => object.setDisplayOrigin(v, object.displayOriginY),\n  displayOriginY: object => v => object.setDisplayOrigin(object.displayOriginX, v),\n  dropZone: object => v => {\n    if (!v) return\n    if (!object.input) object.setInteractive()\n    object.input.dropZone = v\n  },\n  flipX: object => v => object.setFlipX(v),\n  flipY: object => v => object.setFlipY(v),\n  depth: object => v => {\n    object.setDepth(v)\n    if (object.parentContainer) {\n      const i = object.parentContainer.list.findIndex(v => v.depth > (object.depth ?? 0))\n      i === -1 ? object.parentContainer.bringToTop(object) : object.parentContainer.moveTo(object, Math.max(i - 1, 0))\n    }\n  },\n  alpha: object => v => object.setAlpha(v),\n  blendMode: object => v => object.setBlendMode(v),\n  pipeline: object => v => object.setPipeline(v),\n  intensity: object => v => object.setIntensity(v),\n  tint: object => v => object.setTint(v),\n  text: object => v => object.setText(v),\n  texture: object => v => object.setTexture(v, object.frame && object.frame.name),\n  frame: object => v => object.setFrame(v),\n  color: object => v => object.setColor(v),\n  fillColor: object => v => object.setFillStyle(v, object.fillAlpha),\n  fillAlpha: object => v => object.setFillStyle(object.fillColor, v),\n  lineWidth: object => (start, end) => {\n    if (object.setLineWidth) {\n      object.setLineWidth(start, end)\n    } else {\n      object.setStrokeStyle(...(!start ? [] : [start, object.strokeColor, object.strokeAlpha]))\n    }\n  },\n  strokeColor: object => v => object.setStrokeStyle(object.lineWidth, v, object.strokeAlpha),\n  strokeAlpha: object => v => object.setStrokeStyle(object.lineWidth, object.strokeColor, v),\n  style: object => v => object.setStyle(v),\n  lineSpacing: object => v => object.setLineSpacing(v),\n  padding: object => v => object.setPadding(v),\n  collision: object => v => object.setCollision(v),\n  collisionByProperty: object => v => object.setCollisionByProperty(v),\n  play: object => v => v ? object.play(v) : object.stop(),\n  scrollFactor: object => v => object.setScrollFactor(v),\n  scrollFactorX: object => v => object.setScrollFactor(v, object.scrollFactorY),\n  scrollFactorY: object => v => object.setScrollFactor(object.scrollFactorX, v),\n  cullPadding: object => v => object.setCullPadding(v, v),\n  cullPaddingX: object => v => object.setCullPadding(v, object.cullPaddingY),\n  cullPaddingY: object => v => object.setCullPadding(object.cullPaddingX, v),\n  // Body\n  enable: body => v => body.enable = v,\n  immovable: body => v => body.setImmovable(v),\n  moves: body => v => body.moves = v,\n  bounceX: body => v => body.setBounceX(v),\n  bounceY: body => v => body.setBounceY(v),\n  drag: body => v => body.setDrag(v),\n  dragX: body => v => body.setDragX(v),\n  dragY: body => v => body.setDragY(v),\n  gravityX: body => v => body.setGravityX(v),\n  gravityY: body => v => body.setGravityY(v),\n  frictionX: body => v => body.setFrictionX(v),\n  frictionY: body => v => body.setFrictionY(v),\n  velocityX: body => v => body.setVelocityX(v),\n  velocityY: body => v => body.setVelocityY(v),\n  maxVelocityX: body => v => body.setMaxVelocityX(v),\n  maxVelocityY: body => v => body.setMaxVelocityY(v),\n  accelerationX: body => v => body.setAccelerationX(v),\n  accelerationY: body => v => body.setAccelerationY(v),\n  offsetX: body => v => body.setOffset(v, body.offset.y),\n  offsetY: body => v => body.setOffset(body.offset.x, v),\n  collideWorldBounds: body => v => body.collideWorldBounds = v,\n  // Tween\n  tween: (object, emit) => {\n    return makeTweenRepository(tweenConfig => {\n      const tween = object.scene.add.tween(Object.assign({ targets: object }, tweenConfig))\n      if (emit, emit) tween.on('complete', () => emit('update:tween', undefined))\n      return tween\n    })\n  },\n  tweens: (object, emit) => {\n    return makeTweenRepository(tweenConfigs => {\n      const infinitConfigIndex = tweenConfigs.findIndex(conf => conf.repeat === -1)\n      const configs = tweenConfigs.slice(0, infinitConfigIndex === -1 ? undefined : infinitConfigIndex + 1)\n      const timeline = object.scene.add.timeline(configs.map((tweenConfig, i) => {\n        const at = configs.slice(0, i).reduce((sum, config) => {\n          const duration = config.duration ?? 1000\n          const yoyo = config.yoyo ?? false\n          const count = (config.repeat ?? 0) + 1\n          return sum + duration * (yoyo ? 2 : 1) * count\n        }, 0)\n        return {\n          at,\n          tween: Object.assign({ targets: object }, tweenConfig)\n        }\n      })).play()\n      if (emit) timeline.on('complete', () => emit('update:tweens', undefined))\n      return timeline\n    })\n  },\n  timeline: (object, emit) => {\n    return makeTweenRepository(timelineConfigs => {\n      const timeline = object.scene.add.timeline(timelineConfigs.map(timelineConfig => {\n        const copiedTimelineConfig = Object.assign({}, timelineConfig)\n        if (copiedTimelineConfig.tween) {\n          copiedTimelineConfig.tween = Object.assign({ targets: object }, copiedTimelineConfig.tween)\n        }\n        return copiedTimelineConfig\n      })).play()\n      if (emit) timeline.on('complete', () => emit('update:timeline', undefined))\n      return timeline\n    })\n  }\n}\nconst makeTweenRepository = (callback) => {\n  let prevTween = undefined\n  return (data) => {\n    if (prevTween) prevTween.stop()\n    prevTween = data ? callback(data) : undefined\n  }\n}\n","<template>\n  <div data-phavuer-game>\n    <div data-phavuer-canvas ref=\"canvasRoot\" />\n    <slot v-if=\"show\" />\n  </div>\n</template>\n\n<script>\nimport { defineComponent, provide, ref, onMounted } from 'vue'\nimport { InjectionKeys } from '../index'\nimport packageJson from '../../package.json'\nexport default defineComponent({\n  emits: ['create', 'ready'],\n  props: {\n    config: { type: Object }\n  },\n  setup (props, context) {\n    if (props.config?.banner !== false) {\n      console.log(\n        `%c %cPhavuer v${packageJson.version}%c https://github.com/laineus/phavuer`,\n        'background-color: #42b883; padding: 2px 0;',\n        'background-color: #213547; padding: 2px 8px; color: white; font-weight: bold;',\n        ''\n      )\n    }\n    const canvasRoot = ref(false)\n    const show = ref(false)\n    const tmpParent = document.createElement('div')\n    const game = new Phaser.Game(Object.assign({ parent: tmpParent }, props.config))\n    provide(InjectionKeys.Game, game)\n    provide(InjectionKeys.Scene, undefined)\n    provide(InjectionKeys.Container, undefined)\n    provide(InjectionKeys.RenderTextureRenderList, undefined)\n    game.events.addListener('ready', () => {\n      show.value = true\n      context.emit('ready', game)\n    })\n    context.emit('create', game)\n    onMounted(() => {\n      // May be null if parent is overwritten in props.config\n      const canvas = tmpParent.firstChild\n      if (canvas) {\n        canvasRoot.value.appendChild(canvas)\n        game.scale.getParent({ ...game.config, parent: canvasRoot.value })\n        game.scale.refresh()\n      }\n    })\n    return { canvasRoot, show }\n  }\n})\n</script>\n","<template>\n  <slot v-if=\"show\" />\n</template>\n\n<script>\nimport { defineComponent, provide, inject, ref } from 'vue'\nimport { InjectionKeys } from '../index'\nexport default defineComponent({\n  emits: ['init', 'create', 'update', 'preload'],\n  props: {\n    name: { type: String, required: true },\n    autoStart: { type: Boolean, default: true }\n  },\n  setup (props, context) {\n    const show = ref(false)\n    const preUpdateEvents = []\n    const postUpdateEvents = []\n    const Scene = class extends Phaser.Scene {\n      init (data) {\n        context.emit('init', this, data)\n      }\n      create (data) {\n        show.value = true\n        context.emit('create', this, data)\n      }\n      update (time, delta) {\n        preUpdateEvents.forEach(e => e(time, delta))\n        context.emit('update', this, time, delta)\n        postUpdateEvents.forEach(e => e(time, delta))\n      }\n      preload () {\n        context.emit('preload', this)\n      }\n    }\n    const game = inject(InjectionKeys.Game)\n    const scene = game.scene.add(props.name, Scene, props.autoStart)\n    scene.events.on('shutdown', () => show.value = false)\n    provide(InjectionKeys.Scene, scene)\n    provide(InjectionKeys.PreUpdateEvents, preUpdateEvents)\n    provide(InjectionKeys.PostUpdateEvents, postUpdateEvents)\n    return { scene, show }\n  }\n})\n</script>\n","const props = {\n  active: { type: Boolean },\n  visible: { type: Boolean },\n  x: { type: Number },\n  y: { type: Number },\n  x1: { type: Number },\n  y1: { type: Number },\n  x2: { type: Number },\n  y2: { type: Number },\n  x3: { type: Number },\n  y3: { type: Number },\n  points: { type: Array },\n  rotation: { type: Number },\n  origin: { type: Number },\n  originX: { type: Number },\n  originY: { type: Number },\n  scale: { type: Number },\n  scaleX: { type: Number },\n  scaleY: { type: Number },\n  width: { type: Number },\n  height: { type: Number },\n  leftWidth: { type: Number },\n  rightWidth: { type: Number },\n  topHeight: { type: Number },\n  bottomHeight: { type: Number },\n  radius: { type: Number },\n  displayWidth: { type: Number },\n  displayHeight: { type: Number },\n  displayOriginX: { type: Number },\n  displayOriginY: { type: Number },\n  dropZone: { type: Boolean },\n  flipX: { type: Boolean },\n  flipY: { type: Boolean },\n  depth: { type: Number },\n  alpha: { type: Number },\n  blendMode: { type: [Number, String] },\n  pipeline: { type: [String, Object] },\n  intensity: { type: Number },\n  tint: { type: Number },\n  text: { type: [String, Number] },\n  texture: { type: String },\n  frame: { type: [Number, String] },\n  color: { type: String },\n  fillColor: { type: Number },\n  fillAlpha: { type: Number },\n  lineWidth: { type: Number },\n  strokeColor: { type: Number },\n  strokeAlpha: { type: Number },\n  style: { type: Object },\n  lineSpacing: { type: Number },\n  padding: { type: [Number, Object] },\n  collision: { type: [Number, Array] },\n  collisionByProperty: { type: Object },\n  play: { type: [String, Object] },\n  scrollFactor: { type: Number },\n  scrollFactorX: { type: Number },\n  scrollFactorY: { type: Number },\n  // Body\n  enable: { type: Boolean },\n  immovable: { type: Boolean },\n  moves: { type: Boolean },\n  bounceX: { type: Number },\n  bounceY: { type: Number },\n  drag: { type: Number },\n  dragX: { type: Number },\n  dragY: { type: Number },\n  gravityX: { type: Number },\n  gravityY: { type: Number },\n  frictionX: { type: Number },\n  frictionY: { type: Number },\n  velocityX: { type: Number },\n  velocityY: { type: Number },\n  maxVelocityX: { type: Number },\n  maxVelocityY: { type: Number },\n  accelerationX: { type: Number },\n  accelerationY: { type: Number },\n  offsetX: { type: Number },\n  offsetY: { type: Number },\n  collideWorldBounds: { type: Boolean },\n  // Tween\n  tween: { type: Object },\n  tweens: { type: Array },\n  timeline: { type: Object }\n}\nconst propsEntries = Object.entries(props)\nexport const mapProps = (...names) => {\n  const nameSet = new Set(names)\n  return Object.fromEntries(\n    propsEntries.filter(([name]) => nameSet.has(name))\n  )\n}\nexport const gameObjectProps = mapProps(\n  'tween', 'tweens', 'timeline',\n  'active', 'visible',\n  'x', 'y',\n  'rotation',\n  'origin', 'originX', 'originY',\n  'displayOriginX', 'displayOriginY',\n  'scale', 'scaleX', 'scaleY',\n  'displayWidth', 'displayHeight',\n  'scrollFactor', 'scrollFactorX', 'scrollFactorY',\n  'dropZone',\n  'depth',\n  'alpha', 'blendMode', 'pipeline'\n)\n","import { GAME_OBJECT_EVENTS, vModelProps } from './setters.js'\nconst emits = GAME_OBJECT_EVENTS.map(v => v.emit)\nconst vModelEmits = vModelProps.map(key => `update:${key}`)\nexport const gameObjectEmits = ['create', ...emits, ...vModelEmits]\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: Object.fromEntries(\n    Object.entries(gameObjectProps).filter(([k]) => !['origin', 'originX', 'originY', 'displayOriginX', 'displayOriginY'].includes(k))\n  ),\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Container(scene, props.x || 0, props.y || 0)\n    initGameObject(object, props, context)\n    provide(InjectionKeys.Container, object)\n    provide(InjectionKeys.GameObject, object)\n    provide(InjectionKeys.RenderTextureRenderList, undefined)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'width', 'height',\n      'fillColor', 'fillAlpha',\n      'lineWidth', 'strokeColor', 'strokeAlpha'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Rectangle(scene, props.x || 0, props.y || 0, props.width, props.height)\n    initGameObject(object, props, context)\n    provide(InjectionKeys.GameObject, object)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'width', 'height',\n      'radius',\n      'fillColor', 'fillAlpha',\n      'lineWidth', 'strokeColor', 'strokeAlpha'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    class RoundRectangle extends Phaser.GameObjects.Graphics {\n      constructor (scene, x, y, width, height, radius) {\n        super(scene, x, y, width, height)\n        this._originX = 0\n        this._originY = 0\n        this._width = width || 0\n        this._height = height || 0\n        this._radius = radius || 0\n        this._fillColor = null\n        this._fillAlpha = 1\n        this._lineWidth = 0\n        this._strokeColor = null\n        this._strokeAlpha = 1\n        this.setRenderFlag(true)\n      }\n      preUpdate (...arg) {\n        if (this.renderFlag) this.render()\n      }\n      setRenderFlag (bool) {\n        this.renderFlag = bool\n      }\n      render () {\n        this.setRenderFlag(false)\n        const x = this.originX * -this.width\n        const y = this.originY * -this.height\n        const radius = typeof this.radius === 'number' ? Math.min(this.radius, this.width / 2, this.height / 2) : this.radius\n        this.clear()\n        if (this.fillColor !== null) {\n          this.fillStyle(this.fillColor, this.fillAlpha)\n          this.fillRoundedRect(x, y, this.width, this.height, radius)\n        }\n        if (this.lineWidth && this.strokeColor !== null) {\n          this.lineStyle(this.lineWidth, this.strokeColor, this.strokeAlpha)\n          this.strokeRoundedRect(x, y, this.width, this.height, radius)\n        }\n      }\n      // Origin\n      get originX () {\n        return this._originX\n      }\n      set originX (v) {\n        this._originX = v\n        this.displayOriginX = this.width * v\n        this.setRenderFlag(true)\n      }\n      get originY () {\n        return this._originY\n      }\n      set originY (v) {\n        this._originY = v\n        this.displayOriginY = this.height * v\n        this.setRenderFlag(true)\n      }\n      setOrigin (x, y) {\n        this.originX = x\n        this.originY = y === undefined ? x : y\n        return this\n      }\n      // Radius\n      get radius () {\n        return this._radius\n      }\n      set radius (v) {\n        this._radius = v\n        this.setRenderFlag(true)\n      }\n      setRadius (radius) {\n        this.radius = radius\n        return this\n      }\n      // Size\n      get width () {\n        return this._width\n      }\n      set width (v) {\n        this._width = v\n        this.fixSize()\n        this.setRenderFlag(true)\n      }\n      get height () {\n        return this._height\n      }\n      set height (v) {\n        this._height = v\n        this.fixSize()\n        this.setRenderFlag(true)\n      }\n      setSize (width, height) {\n        if (width !== undefined) this.width = width\n        if (height !== undefined) this.height = height\n        return this\n      }\n      fixSize () {\n        if (this.input) this.input.hitArea.setSize(this.width, this.height)\n        if (this.body) this.body.setSize(this.width, this.height)\n      }\n      get displayWidth () {\n        return Math.abs(this.scaleX * this.width)\n      }\n      set displayWidth (value) {\n        this.scaleX = value / this.width\n      }\n      get displayHeight () {\n        return Math.abs(this.scaleY * this.height)\n      }\n      set displayHeight (value) {\n        this.scaleY = value / this.height\n      }\n      // Fill\n      get fillColor () {\n        return this._fillColor\n      }\n      set fillColor (v) {\n        this._fillColor = v\n        this.setRenderFlag(true)\n      }\n      get fillAlpha () {\n        return this._fillAlpha\n      }\n      set fillAlpha (v) {\n        this._fillAlpha = v\n        this.setRenderFlag(true)\n      }\n      setFillStyle (fillColor, fillAlpha) {\n        if (fillColor !== undefined) this.fillColor = fillColor\n        if (fillAlpha !== undefined) this.fillAlpha = fillAlpha\n        return this\n      }\n      // Stroke\n      get lineWidth () {\n        return this._lineWidth\n      }\n      set lineWidth (v) {\n        this._lineWidth = v\n        this.setRenderFlag(true)\n      }\n      get strokeColor () {\n        return this._strokeColor\n      }\n      set strokeColor (v) {\n        this._strokeColor = v\n        this.setRenderFlag(true)\n      }\n      get strokeAlpha () {\n        return this._strokeAlpha\n      }\n      set strokeAlpha (v) {\n        this._strokeAlpha = v\n        this.setRenderFlag(true)\n      }\n      setStrokeStyle (lineWidth, strokeColor, strokeAlpha) {\n        if (lineWidth !== undefined) this.lineWidth = lineWidth\n        if (strokeColor !== undefined) this.strokeColor = strokeColor\n        if (strokeAlpha !== undefined) this.strokeAlpha = strokeAlpha\n        return this\n      }\n    }\n    const object = new RoundRectangle(scene, props.x || 0, props.y || 0, props.width, props.height, props.radius)\n    initGameObject(object, props, context)\n    provide(InjectionKeys.GameObject, object)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'x1', 'y1', 'x2', 'y2', 'x3', 'y3',\n      'fillColor', 'fillAlpha',\n      'lineWidth', 'strokeColor', 'strokeAlpha'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Triangle(scene, props.x || 0, props.y || 0, props.x1, props.y1, props.x2, props.y2, props.x3, props.y3)\n    initGameObject(object, props, context)\n    provide(InjectionKeys.GameObject, object)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'radius',\n      'fillColor', 'fillAlpha',\n      'lineWidth', 'strokeColor', 'strokeAlpha'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Arc(scene, props.x || 0, props.y || 0, props.radius)\n    initGameObject(object, props, context)\n    provide(InjectionKeys.GameObject, object)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'points',\n      'fillColor', 'fillAlpha',\n      'lineWidth', 'strokeColor', 'strokeAlpha',\n      'points'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Polygon(scene, props.x || 0, props.y || 0, props.points)\n    initGameObject(object, props, context)\n    provide(InjectionKeys.GameObject, object)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'x1', 'y1', 'x2', 'y2',\n      'lineWidth', 'strokeColor', 'strokeAlpha'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Line(scene, props.x || 0, props.y || 0, props.x1, props.y1, props.x2, props.y2)\n    initGameObject(object, props, context)\n    provide(InjectionKeys.GameObject, object)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'texture', 'frame',\n      'tint',\n      'flipX', 'flipY'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Image(scene, props.x || 0, props.y || 0, props.texture)\n    initGameObject(object, props, context)\n    provide(InjectionKeys.GameObject, object)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'width', 'height',\n      'leftWidth', 'rightWidth', 'topHeight', 'bottomHeight',\n      'texture', 'frame', 'tint'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.NineSlice(scene, props.x || 0, props.y || 0, props.texture, props.frame, props.width, props.height, props.leftWidth, props.rightWidth, props.topHeight, props.bottomHeight)\n    initGameObject(object, props, context)\n    provide(InjectionKeys.GameObject, object)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject, getCurrentInstance } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nconst SPRITE_EMITS = [\n  { attr: 'onAnimationstart', emit: 'animationstart' },\n  { attr: 'onAnimationupdate', emit: 'animationupdate' },\n  { attr: 'onAnimationrepeat', emit: 'animationrepeat' },\n  { attr: 'onAnimationcomplete', emit: 'animationcomplete' },\n  { attr: 'onAnimationstop', emit: 'animationstop' },\n  { attr: 'onAnimationrestart', emit: 'animationrestart' }\n]\nexport default defineComponent({\n  emits: [\n    ...gameObjectEmits,\n    ...SPRITE_EMITS.map(v => v.emit)\n  ],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'texture', 'frame',\n      'tint',\n      'flipX', 'flipY'\n    ),\n    play: { type: [String, Object] }\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Sprite(scene, props.x || 0, props.y || 0, props.texture)\n    const currentInstance = getCurrentInstance()\n    const definedProps = currentInstance.vnode.props || []\n    SPRITE_EMITS.filter(v => v.attr in definedProps).forEach(v => {\n      object.on(v.emit, (...args) => {\n        context.emit(v.emit, ...args)\n      })\n    })\n    initGameObject(object, props, context)\n    provide(InjectionKeys.GameObject, object)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'text',\n      'style', 'lineSpacing',\n      'padding'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Text(scene, props.x || 0, props.y || 0, props.text)\n    initGameObject(object, props, context)\n    return { object }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { mapProps, gameObjectProps } from '../props.js'\nexport default defineComponent({\n  emits: ['create'],\n  props: {\n    ...gameObjectProps,\n    ...mapProps('width', 'height', 'collision', 'collisionByProperty'),\n    tilemap: { type: Object },\n    layerIndex: { type: Number },\n    tileset: { type: [Array, String] },\n    cullPadding: { type: Number },\n    cullPaddingX: { type: Number },\n    cullPaddingY: { type: Number }\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.Tilemaps.TilemapLayer(scene, props.tilemap, props.layerIndex, props.tileset, props.x || 0, props.y || 0)\n    initGameObject(object, props, context)\n    return { object }\n  }\n})\n</script>\n","<template>\n</template>\n\n<script>\nimport { defineComponent, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...Object.fromEntries(\n      Object.entries(gameObjectProps).filter(([k]) => !['alpha', 'blendMode', 'pipeline'].includes(k))\n    ),\n    ...mapProps('width', 'height')\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.Zone(scene, props.x || 0, props.y || 0, props.width, props.height)\n    initGameObject(object, props, context)\n    return { object }\n  }\n})\n</script>\n","<template>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { initGameObject } from '../index.js'\nimport { mapProps } from '../props.js'\nexport default defineComponent({\n  emits: ['create'],\n  props: {\n    ...mapProps(\n      'tween', 'tweens', 'timeline',\n      'visible',\n      'x', 'y',\n      'radius',\n      'color',\n      'intensity'\n    )\n  },\n  setup (props, context) {\n    const object = new Phaser.GameObjects.Light(props.x || 0, props.y || 0)\n    initGameObject(object, props, context)\n    return { object }\n  }\n})\n</script>\n","<template>\n</template>\n\n<script>\nimport { defineComponent, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { mapProps } from '../props.js'\nexport default defineComponent({\n  emits: ['create'],\n  props: {\n    ...mapProps(\n      'width', 'height',\n      'offsetX', 'offsetY',\n      'enable'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    if (!scene.physics) throw Error(\"Physics is not available. Add physics setting to your game config. e.g. `physics: { default: 'arcade' }`\")\n    const gameObject = inject(InjectionKeys.GameObject)\n    const body = scene.physics.add.existing(gameObject, Phaser.Physics.Arcade.STATIC_BODY).body\n    initGameObject(body, props, context)\n  }\n})\n</script>\n","<template>\n</template>\n\n<script>\nimport { defineComponent, inject } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { mapProps } from '../props.js'\nexport default defineComponent({\n  emits: ['create'],\n  props: {\n    ...mapProps(\n      'width', 'height',\n      'offsetX', 'offsetY',\n      'enable',\n      'immovable', 'moves',\n      'bounceX', 'bounceY',\n      'drag', 'dragX', 'dragY',\n      'gravityX', 'gravityY',\n      'frictionX', 'frictionY',\n      'velocityX', 'velocityY',\n      'maxVelocityX', 'maxVelocityY',\n      'accelerationX', 'accelerationY',\n      'collideWorldBounds'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    if (!scene.physics) throw Error(\"Physics is not available. Add physics setting to your game config. e.g. `physics: { default: 'arcade' }`\")\n    const gameObject = inject(InjectionKeys.GameObject)\n    const body = scene.physics.add.existing(gameObject, Phaser.Physics.Arcade.DYNAMIC_BODY).body\n    initGameObject(body, props, context)\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, inject, onUpdated, onMounted } from 'vue'\nimport { initGameObject, InjectionKeys } from '../index.js'\nimport { gameObjectProps, mapProps } from '../props.js'\nimport { gameObjectEmits } from '../emits.js'\nexport default defineComponent({\n  emits: [...gameObjectEmits],\n  props: {\n    ...gameObjectProps,\n    ...mapProps(\n      'width', 'height'\n    )\n  },\n  setup (props, context) {\n    const scene = inject(InjectionKeys.Scene)\n    const object = new Phaser.GameObjects.RenderTexture(scene, props.x || 0, props.y || 0, props.width, props.height)\n    initGameObject(object, props, context)\n    const renderList = []\n    provide(InjectionKeys.RenderTextureRenderList, renderList)\n    provide(InjectionKeys.GameObject, object)\n    const render = () => {\n      object.beginDraw()\n      renderList.forEach((v) => object.batchDraw(v))\n      object.endDraw()\n    }\n    onMounted(() => {\n      render()\n    })\n    onUpdated(() => {\n      object.clear()\n      render()\n    })\n    return { object }\n  }\n})\n</script>\n","import { inject, watch, onBeforeUnmount, customRef, getCurrentInstance } from 'vue'\nimport { default as setters, deepProps, vModelProps, GAME_OBJECT_EVENTS } from './setters.js'\nimport Game from './components/Game.vue'\nimport Scene from './components/Scene.vue'\nimport Container from './components/Container.vue'\nimport Rectangle from './components/Rectangle.vue'\nimport RoundRectangle from './components/RoundRectangle.vue'\nimport Triangle from './components/Triangle.vue'\nimport Circle from './components/Circle.vue'\nimport Polygon from './components/Polygon.vue'\nimport Line from './components/Line.vue'\nimport Image from './components/Image.vue'\nimport NineSlice from './components/NineSlice.vue'\nimport Sprite from './components/Sprite.vue'\nimport Text from './components/Text.vue'\nimport TilemapLayer from './components/TilemapLayer.vue'\nimport Zone from './components/Zone.vue'\nimport Light from './components/Light.vue'\nimport StaticBody from './components/StaticBody.vue'\nimport Body from './components/Body.vue'\nimport RenderTexture from './components/RenderTexture.vue'\n\nconst createPhavuerApp = () => {\n  console.error('Phavuer::createPhavuerApp() has been removed. Please use `<Game>` component instead. See: https://github.com/laineus/phavuer')\n}\n\nconst camelize = s => s.replace(/-./g, x => x[1].toUpperCase())\n\nconst initGameObject = (object, props, context) => {\n  const currentInstance = getCurrentInstance()\n  const isBody = 'bounce' in object\n  const isLight = object.constructor === Phaser.GameObjects.Light\n  const scene = inject(InjectionKeys.Scene)\n  const renderList = inject(InjectionKeys.RenderTextureRenderList)\n  if (isLight) {\n    if (!scene.lights.active) scene.lights.enable()\n    scene.lights.lights.push(object)\n  } else if (isBody) {\n    // _\n  } else if (renderList) {\n    renderList.push(object)\n    onBeforeUnmount(() => {\n      const i = renderList.findIndex(v => v === object)\n      renderList.splice(i, 1)\n    })\n  } else {\n    scene.add.existing(object)\n    // Append to parent container\n    const container = inject(InjectionKeys.Container)\n    if (container) {\n      const i = container.list.findIndex(v => v.depth > (props.depth ?? 0))\n      i === -1 ? container.add(object) : container.addAt(object, i)\n    }\n  }\n  // Make it reactive\n  const definedProps = Object.fromEntries(\n    Object.entries(currentInstance.vnode.props ?? {}).map(([key, value]) => [camelize(key), value])\n  )\n  const vModelKeys = Object.keys(definedProps).filter(key => key.startsWith('onUpdate:')).map(key => key.split(':')[1]).filter(key => vModelProps.includes(key))\n  const normalProps = Object.entries(definedProps).filter(([key]) => setters[key])\n  const watchStoppers = normalProps.map(([key, value]) => {\n    const setter = setters[key](object, vModelKeys.includes(key) ? context.emit : undefined)\n    setter(value)\n    // TODO: Don't watch non dynamicProps\n    return watch(() => props[key], setter, { deep: deepProps.includes(key) })\n  }).filter(Boolean)\n  // Set event\n  if (definedProps.onCreate) context.emit('create', object)\n  // Set interactive events\n  const events = GAME_OBJECT_EVENTS.filter(v => v.attr in definedProps)\n  if (events.length) {\n    if (!object.input) {\n      object.setInteractive()\n    }\n    if (events.some(v => v.drag)) {\n      scene.input.setDraggable(object)\n    }\n    events.forEach(v => {\n      object.on(v.emit, (...args) => {\n        if ('eventIndex' in v) {\n          args[0].stopPropagation = args[v.eventIndex].stopPropagation\n        }\n        context.emit(v.emit, ...args)\n      })\n    })\n  }\n  // Destroy when unmounted\n  onBeforeUnmount(() => {\n    if (object.tween) object.tween.stop()\n    watchStoppers.forEach(stop => stop())\n  })\n  if (isLight) {\n    onBeforeUnmount(() => scene.lights.removeLight(object))\n  } else {\n    onBeforeUnmount(() => object.destroy())\n  }\n  return object\n}\n\n// TODO: should be Symbol\nconst InjectionKeys = {\n  Game: 'phavuer_game',\n  Scene: 'phavuer_scene',\n  GameObject: 'phavuer_gameObject',\n  Container: 'phavuer_container',\n  RenderTextureRenderList: 'phavuer_renderTextureRenderList',\n  PreUpdateEvents: 'phavuer_preUpdateEvents',\n  PostUpdateEvents: 'phavuer_postUpdateEvents'\n}\n\nconst useInject = key => () => {\n  const obj = inject(key)\n  if (!obj) throw new Error(`${key} is not provided`)\n  return obj\n}\n\nconst useGame = useInject(InjectionKeys.Game)\nconst useScene = useInject(InjectionKeys.Scene)\n\nconst refTo = (value, key) => {\n  return customRef((track, trigger) => {\n    return {\n      get () {\n        track()\n        return value\n      },\n      set (newValue) {\n        if (value && newValue) return\n        value = newValue ? newValue[key] : null\n        trigger()\n      }\n    }\n  })\n}\nconst refObj = value => refTo(value, 'object')\nconst refScene = value => refTo(value, 'scene')\n\nconst getRegisterUpdateEvent = symbol => e => {\n  const eventList = inject(symbol)\n  eventList.push(e)\n  onBeforeUnmount(() => {\n    const i = eventList.findIndex(v => v === e)\n    eventList.splice(i, 1)\n  })\n}\nconst onPreUpdate = getRegisterUpdateEvent(InjectionKeys.PreUpdateEvents)\nconst onPostUpdate = getRegisterUpdateEvent(InjectionKeys.PostUpdateEvents)\n\nexport {\n  createPhavuerApp,\n  initGameObject,\n  refTo,\n  refObj,\n  refScene,\n  InjectionKeys,\n  useGame,\n  useScene,\n  onPreUpdate,\n  onPostUpdate,\n  Game,\n  Scene,\n  Container,\n  Rectangle,\n  RoundRectangle,\n  Triangle,\n  Circle,\n  Polygon,\n  Line,\n  Image,\n  NineSlice,\n  Sprite,\n  Text,\n  TilemapLayer,\n  Zone,\n  Light,\n  StaticBody,\n  Body,\n  RenderTexture\n}\n"],"names":["GAME_OBJECT_EVENTS","fixSize","object","v","defineVModelProperty","gameObject","key","emit","rawValue","deepProps","vModelProps","setters","i","start","end","body","makeTweenRepository","tweenConfig","tween","tweenConfigs","infinitConfigIndex","conf","configs","timeline","sum","config","duration","yoyo","count","timelineConfigs","timelineConfig","copiedTimelineConfig","callback","prevTween","data","_sfc_main","defineComponent","props","context","_a","packageJson","canvasRoot","ref","show","tmpParent","game","provide","InjectionKeys","onMounted","canvas","_hoisted_1","_openBlock","_createElementBlock","_createElementVNode","_hoisted_2","_ctx","_renderSlot","_createCommentVNode","preUpdateEvents","postUpdateEvents","Scene","time","delta","e","scene","inject","propsEntries","mapProps","names","nameSet","name","gameObjectProps","emits","vModelEmits","gameObjectEmits","k","initGameObject","RoundRectangle","x","y","width","height","radius","arg","bool","value","fillColor","fillAlpha","lineWidth","strokeColor","strokeAlpha","SPRITE_EMITS","definedProps","getCurrentInstance","args","renderList","render","onUpdated","createPhavuerApp","camelize","s","currentInstance","isBody","isLight","onBeforeUnmount","container","vModelKeys","watchStoppers","setter","watch","events","stop","useInject","obj","useGame","useScene","refTo","customRef","track","trigger","newValue","refObj","refScene","getRegisterUpdateEvent","symbol","eventList","onPreUpdate","onPostUpdate"],"mappings":"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"}