!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Vue")):"function"==typeof define&&define.amd?define(["Vue"],t):"object"==typeof exports?exports.Phavuer=t(require("Vue")):e.Phavuer=t(e.Vue)}(this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t),n.d(t,"Scene",(function(){return b})),n.d(t,"Container",(function(){return h})),n.d(t,"Image",(function(){return j})),n.d(t,"Sprite",(function(){return y})),n.d(t,"Text",(function(){return m})),n.d(t,"Rectangle",(function(){return O})),n.d(t,"DynamicTilemapLayer",(function(){return g})),n.d(t,"StaticTilemapLayer",(function(){return x})),n.d(t,"createPhavuerApp",(function(){return v})),n.d(t,"initGameObject",(function(){return S})),n.d(t,"refTo",(function(){return k})),n.d(t,"refObj",(function(){return w})),n.d(t,"refScene",(function(){return P}));var r=n(0);var i={props:{name:{type:String,require:!0},autoStart:{type:Boolean,default:!0}},setup(e,t){const n=Object(r.ref)(!0),i=class extends Phaser.Scene{init(e){n.value=!0,t.emit("init",this,e)}create(e){t.emit("create",this,e)}update(e,n){t.emit("update",this,e,n)}preload(){t.emit("preload",this)}},o=Object(r.inject)("game").scene.add(e.name,i,e.autoStart);return o.events.on("shutdown",()=>n.value=!1),Object(r.provide)("scene",o),{scene:o,show:n}},render:function(e,t,n,i,o,c){return Object(r.openBlock)(),Object(r.createBlock)("div",null,[i.show?Object(r.renderSlot)(e.$slots,"default",{key:0}):Object(r.createCommentVNode)("v-if",!0)])}};var o={setup(e,t){const n=Object(r.inject)("scene");class i extends Phaser.GameObjects.Container{preUpdate(){}}const o=new i(n);return S(o,e,t),Object(r.provide)("container",o),{object:o}},props:["visible","width","height","x","y","depth","alpha"],render:function(e,t,n,i,o,c){return Object(r.openBlock)(),Object(r.createBlock)("div",null,[Object(r.renderSlot)(e.$slots,"default")])}};var c={setup(e,t){const n=Object(r.inject)("scene");class i extends Phaser.GameObjects.Rectangle{preUpdate(){}}const o=new i(n,e.x,e.y,e.width,e.height);return S(o,e,t),{object:o}},props:["visible","x","y","width","height","origin","originX","originY","scale","scaleX","scaleY","depth","alpha","fillColor","fillAlpha","lineWidth","strokeColor","strokeAlpha"],render:function(e,t,n,i,o,c){return Object(r.openBlock)(),Object(r.createBlock)("div")}};var s={setup(e,t){const n=Object(r.inject)("scene");class i extends Phaser.GameObjects.Image{preUpdate(){}}const o=new i(n,e.x,e.y,e.texture);return S(o,e,t),{object:o}},props:["visible","x","y","origin","originX","originY","scale","scaleX","scaleY","depth","alpha","blendMode","texture","frame","flipX","flipY"],render:function(e,t,n,i,o,c){return Object(r.openBlock)(),Object(r.createBlock)("div")}};var a={setup(e,t){const n=Object(r.inject)("scene");class i extends Phaser.GameObjects.Sprite{preUpdate(){}}const o=new i(n,e.x,e.y,e.texture);return S(o,e,t),{object:o}},props:["visible","x","y","origin","originX","originY","scale","scaleX","scaleY","depth","alpha","blendMode","texture","frame","flipX","flipY"],render:function(e,t,n,i,o,c){return Object(r.openBlock)(),Object(r.createBlock)("div")}};var l={setup(e,t){const n=Object(r.inject)("scene"),i=()=>t.slots.default()[0].children;class o extends Phaser.GameObjects.Text{preUpdate(){}}const c=new o(n,e.x,e.y,i());return Object(r.watch)(i,e=>c.setText(e)),S(c,e,t),{object:c}},props:["visible","x","y","origin","originX","originY","scale","scaleX","scaleY","depth","alpha","style"],render:function(e,t,n,i,o,c){return Object(r.openBlock)(),Object(r.createBlock)("div")}};var p={props:["visible","x","y","width","height","depth","tilemap","layerIndex","tileset","collision"],setup(e,t){const n=Object(r.inject)("scene");class i extends Phaser.Tilemaps.DynamicTilemapLayer{preUpdate(){}}const o=new i(n,e.tilemap,e.layerIndex,e.tileset,e.x,e.y);return S(o,e,t),{object:o}},render:function(e,t,n,i,o,c){return Object(r.openBlock)(),Object(r.createBlock)("div")}};var u={props:["visible","x","y","width","height","depth","tilemap","layerIndex","tileset","collision"],setup(e,t){const n=Object(r.inject)("scene");class i extends Phaser.Tilemaps.StaticTilemapLayer{preUpdate(){}}const o=new i(n,e.tilemap,e.layerIndex,e.tileset,e.x,e.y);return S(o,e,t),{object:o}},render:function(e,t,n,i,o,c){return Object(r.openBlock)(),Object(r.createBlock)("div")}},d={Scene:i,Container:o,Rectangle:c,Image:s,Sprite:a,Text:l,DynamicTilemapLayer:p,StaticTilemapLayer:u},f={visible:e=>t=>e.setVisible(t),x:e=>t=>e.setPosition(t,e.y),y:e=>t=>e.setPosition(e.x,t),origin:e=>t=>e.setOrigin(t,t),originX:e=>t=>e.setOrigin(t,e.originY),originY:e=>t=>e.setOrigin(e.originX,t),scale:e=>t=>e.setScale(t,t),scaleX:e=>t=>e.setScale(t,e.scaleY),scaleY:e=>t=>e.setScale(e.scaleX,t),width:e=>t=>e.setSize(t,e.height),height:e=>t=>e.setSize(e.width,t),displayWidth:e=>t=>e.setDisplaySize(t,e.displayHeight),displayHeight:e=>t=>e.setDisplaySize(e.displayWidth,t),displayOriginX:e=>t=>e.setDisplayOrigin(t,e.displayOriginY),displayOriginY:e=>t=>e.setDisplayOrigin(e.displayOriginX,t),flipX:e=>t=>e.setFlipX(t),flipY:e=>t=>e.setFlipY(t),depth:e=>t=>e.setDepth(t),alpha:e=>t=>e.setAlpha(t),blendMode:e=>t=>e.setBlendMode(t),tint:e=>t=>e.setTint(t),texture:e=>t=>e.setTexture(t),frame:e=>t=>e.setFrame(t),fillColor:e=>t=>e.setFillStyle(t,e.fillAlpha),fillAlpha:e=>t=>e.setFillStyle(e.fillColor,t),lineWidth:e=>t=>e.setStrokeStyle(...t?[t,e.strokeColor,e.strokeAlpha]:[]),strokeColor:e=>t=>e.setStrokeStyle(e.lineWidth,t,e.strokeAlpha),strokeAlpha:e=>t=>e.setStrokeStyle(e.lineWidth,e.strokeColor,t),style:e=>t=>e.setStyle(t),collision:e=>t=>e.setCollision(t)};const b=d.Scene,h=d.Container,j=d.Image,y=d.Sprite,m=d.Text,O=d.Rectangle,g=d.DynamicTilemapLayer,x=d.StaticTilemapLayer,v=(e,t)=>{const n=Object(r.createApp)(t);n.provide("game",e),n.provide("scene",null),n.provide("container",null);const i=window.document.createElement("div");return document.body.appendChild(i),n.mount(i)},S=(e,t,n)=>{const i=Object(r.inject)("container");if(i)i.add([e]);else{Object(r.inject)("scene").add.existing(e)}return Object.keys(t).forEach(n=>{if(!f[n])return;const i=f[n](e);i(t[n]),Object(r.watch)(()=>t[n],i)}),n.attrs.onCreate&&n.emit("create",e),n.attrs.onUpdate&&(e.preUpdate=(...t)=>n.emit("update",e,...t)),(n.attrs.onPointerdown||n.attrs.onPointerup)&&(e.setInteractive(),n.attrs.onPointerdown&&e.on("pointerdown",(...e)=>n.emit("pointerdown",...e)),n.attrs.onPointerup&&e.on("pointerup",(...e)=>n.emit("pointerup",...e))),Object(r.onBeforeUnmount)(()=>e.destroy()),e},k=(e,t)=>Object(r.customRef)((n,r)=>({get:()=>(n(),e),set(n){e=n?n[t]:null,r()}})),w=e=>k(e,"object"),P=e=>k(e,"scene")}])}));